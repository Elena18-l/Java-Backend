<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
  <meta charset="UTF-8">
  <title>Mi Perfil</title>
  <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<div th:replace="~{fragments/header :: header}"></div>

<main>
  <div th:if="${mensajeExito}" class="alert-success" style="text-align: center; margin: 1rem;">
    <p th:text="${mensajeExito}"></p>
  </div>

  <div class="franja">
    <h2>Mi Perfil</h2>
  </div>

  <section style="width: 100%; display: flex; justify-content: center; align-items: flex-start; gap: 2rem; flex-wrap: wrap; padding-top: 2rem;">
    <!-- Bloque de información personal -->
    <div class="card-perfil">
      <h3>Información Personal</h3>
      <p><strong>Nombre:</strong> <span th:text="${cliente.nombre}">Nombre</span></p>
      <p><strong>Apellidos:</strong>
        <span th:text="${cliente.apellido1}">Apellido1</span>
        <span th:if="${cliente.apellido2 != null}" th:text="' ' + ${cliente.apellido2}">Apellido2</span>
      </p>
      <p><strong>DNI:</strong> <span th:text="${cliente.dni}">00000000A</span></p>
      <p><strong>Fecha de nacimiento:</strong>
        <span th:text="${#temporals.format(cliente.fechaNacimiento, 'dd/MM/yyyy')}">01/01/1990</span>
      </p>
    </div>

    <!-- Bloque de cuenta -->
    <div class="card-perfil">
      <h3>Cuenta de Usuario</h3>
      <p><strong>Rol:</strong> <span th:text="${cliente.usuario != null ? cliente.usuario.rol : 'Sin rol'}">USER</span></p>
      <p><strong>Usuario:</strong> <span th:text="${cliente.usuario != null ? cliente.usuario.username : 'Sin usuario'}">usuario</span></p>
      <p><strong>Email:</strong> <span th:text="${cliente.usuario != null ? cliente.usuario.email : 'Sin email'}">email@example.com</span></p>
    </div>
  </section>

  <div style="text-align: center; margin: 2rem 0;" th:if="${cliente.usuario != null}">
    <a class="create-button" th:href="@{/user/perfil/editar}">Editar Perfil</a>
  </div>
</main>

<div th:replace="~{fragments/footer :: footer}"></div>
</body>
</html>